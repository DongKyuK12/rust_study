# 01장. 개발 환경 설정

> **목표**: Rust를 설치하고, 첫 번째 프로그램을 작성하고 실행할 수 있다. 

---

## 1. Rust란?

Rust는 **시스템 프로그래밍 언어**입니다.

쉽게 말하면, 컴퓨터가 직접 이해할 수 있는 빠른 프로그램을 만드는 언어예요.

### Rust의 특징
- **빠릅니다** - C/C++만큼 빠른 실행 속도
- **안전합니다** - 컴파일러가 메모리 실수를 미리 잡아줍니다
- **친절합니다** - 에러 메시지가 "이렇게 고쳐보세요"라고 알려줍니다

### 왜 Rust로 웹서버를?
- 적은 자원으로 많은 요청을 처리할 수 있습니다
- 서버가 갑자기 죽는 메모리 관련 버그를 컴파일 단계에서 방지합니다
- 최근 웹 백엔드에서 Rust 사용이 빠르게 늘고 있습니다

---

## 2. Rust 설치하기

### Windows에서 설치

#### Step 1: rustup 설치 프로그램 다운로드

1. 웹 브라우저를 열고 주소창에 입력합니다:
   ```
   https://rustup.rs
   ```

2. 화면에 보이는 **"DOWNLOAD RUSTUP-INIT.EXE (64-BIT)"** 버튼을 클릭합니다.

3. 다운로드된 `rustup-init.exe` 파일을 실행합니다.

#### Step 2: 설치 진행

터미널(검은 화면)이 열리면 아래와 같은 메시지가 나타납니다:

```
Welcome to Rust!

...

Current installation options:

   default host triple: x86_64-pc-windows-msvc
     default toolchain: stable
               profile: default
  modify PATH variable: yes

1) Proceed with standard installation (default - just press enter)
2) Customize installation
3) Cancel installation

>
```

**`1`을 누르고 Enter**를 칩니다. (또는 그냥 Enter만 쳐도 됩니다)

설치가 완료되면 이런 메시지가 나옵니다:
```
Rust is installed now. Great!
```

#### Step 3: 설치 확인

**새 터미널**을 열고 (기존 터미널을 닫고 다시 여세요!) 아래 명령어를 입력합니다:

```bash
rustc --version
```

이런 결과가 나오면 성공입니다:
```
rustc 1.XX.X (xxxxxxx 2025-XX-XX)
```

> **주의!** 기존에 열려있던 터미널에서는 안 될 수 있어요. 반드시 새 터미널을 여세요.

### 추가 도구: C++ 빌드 도구

Windows에서 Rust를 사용하려면 **Visual Studio C++ Build Tools**가 필요합니다.

rustup 설치 중에 자동으로 안내가 나올 수 있습니다. 만약 나오지 않았다면:

1. 아래 주소에서 **Build Tools for Visual Studio**를 다운로드합니다:
   ```
   https://visualstudio.microsoft.com/visual-cpp-build-tools/
   ```
2. 설치 시 **"C++를 사용한 데스크톱 개발"** 워크로드를 선택합니다.

---

## 3. Cargo 소개

### Cargo가 뭔가요?

**Cargo**는 Rust의 **패키지 매니저이자 빌드 도구**입니다.

다른 언어와 비교하면:
| 언어 | 패키지 매니저 | Rust에서는 |
|------|-------------|-----------|
| Python | pip | Cargo |
| JavaScript | npm | Cargo |
| Java | Maven/Gradle | Cargo |

Cargo가 해주는 일:
- 프로젝트 생성
- 코드 컴파일 (빌드)
- 외부 라이브러리 관리
- 테스트 실행

### Cargo 설치 확인

Rust를 설치하면 Cargo도 함께 설치됩니다. 확인해봅시다:

```bash
cargo --version
```

결과:
```
cargo 1.XX.X (xxxxxxx 2025-XX-XX)
```

---

## 4. 첫 번째 프로젝트 만들기

### Step 1: 프로젝트 생성

터미널에서 원하는 폴더로 이동한 후, 아래 명령어를 입력합니다:

```bash
cargo new hello_rust
```

결과:
```
     Created binary (application) `hello_rust` package
```

`hello_rust`라는 폴더가 생겼습니다!

### Step 2: 프로젝트 구조 살펴보기

```
hello_rust/
├── Cargo.toml    ← 프로젝트 설정 파일 (이름, 버전, 의존성)
└── src/
    └── main.rs   ← 우리가 코드를 작성하는 파일
```

#### Cargo.toml 파일 내용

```toml
[package]
name = "hello_rust"       # 프로젝트 이름
version = "0.1.0"         # 버전
edition = "2021"          # Rust 에디션

[dependencies]            # 외부 라이브러리 (지금은 비어있음)
```

> **toml**은 설정 파일 형식입니다. 지금은 "이런 게 있구나" 정도만 알면 됩니다.

#### src/main.rs 파일 내용

```rust
fn main() {
    println!("Hello, world!");
}
```

Cargo가 자동으로 **Hello, world!** 프로그램을 만들어줬습니다!

### Step 3: 코드 이해하기

```rust
fn main() {
//  ── ────
//  │   └─ 함수 이름 (main은 프로그램의 시작점)
//  └─ 함수를 정의하는 키워드

    println!("Hello, world!");
//  ───────  ───────────────
//     │           └─ 출력할 내용 (문자열)
//     └─ 화면에 글자를 출력하는 매크로 (뒤에 !가 붙으면 매크로)
}
```

핵심 포인트:
- `fn` → 함수를 만드는 키워드
- `main()` → 프로그램이 시작되는 함수 (항상 필요)
- `println!()` → 화면에 출력하고 줄바꿈
- `"Hello, world!"` → 문자열은 쌍따옴표로 감싸기
- `;` → 문장의 끝에는 세미콜론

### Step 4: 프로그램 실행하기

프로젝트 폴더로 이동합니다:
```bash
cd hello_rust
```

그리고 실행합니다:
```bash
cargo run
```

결과:
```
   Compiling hello_rust v0.1.0 (...)
    Finished dev [unoptimized + debuginfo] target(s) in 0.50s
     Running `target\debug\hello_rust.exe`
Hello, world!
```

**"Hello, world!"** 가 출력되었다면 성공입니다!

---

## 5. 자주 쓰는 Cargo 명령어

| 명령어 | 설명 | 언제 쓰나요? |
|--------|------|-------------|
| `cargo new 이름` | 새 프로젝트 생성 | 프로젝트 시작할 때 |
| `cargo run` | 컴파일 + 실행 | 코드 작성 후 결과 확인할 때 |
| `cargo build` | 컴파일만 (실행 안 함) | 에러 없는지 확인할 때 |
| `cargo check` | 빠른 문법 검사 | 코드가 맞는지 빠르게 확인할 때 |
| `cargo test` | 테스트 실행 | 테스트 코드를 돌릴 때 |

> **팁**: 개발 중에는 `cargo run`을 가장 많이 쓰게 됩니다!

### cargo run vs cargo build vs cargo check

```
cargo check  → 문법만 검사 (가장 빠름)
cargo build  → 실행 파일 생성 (중간)
cargo run    → 실행 파일 생성 + 실행 (가장 느림)
```

빠르게 에러만 확인하고 싶다면 `cargo check`를 쓰세요!

---

## 6. VS Code 설정하기

### Step 1: VS Code 설치

이미 VS Code가 설치되어 있다면 이 단계는 건너뛰세요.

1. 아래 주소에서 다운로드합니다:
   ```
   https://code.visualstudio.com
   ```
2. 다운로드된 파일을 실행하여 설치합니다.

### Step 2: rust-analyzer 확장 설치

**rust-analyzer**는 VS Code에서 Rust 코드를 편하게 작성할 수 있게 해주는 확장입니다.

1. VS Code를 엽니다
2. 왼쪽 사이드바에서 **확장 아이콘** (네모 4개 모양)을 클릭합니다
3. 검색창에 **`rust-analyzer`** 를 입력합니다
4. **rust-analyzer** (rust-lang 제작)를 찾아 **Install** 버튼을 클릭합니다

### Step 3: 프로젝트 열기

1. VS Code에서 `파일 → 폴더 열기`를 선택합니다
2. 아까 만든 `hello_rust` 폴더를 선택합니다

### rust-analyzer가 해주는 것들

```rust
fn main() {
    let x = 5;        // x 옆에 ": i32" 타입이 회색으로 표시됨
    println!("{}", x); // 자동 완성 지원
}
```

- **타입 힌트**: 변수의 타입을 자동으로 보여줍니다
- **자동 완성**: 코드를 입력하면 후보를 보여줍니다
- **에러 표시**: 빨간 밑줄로 에러를 바로 보여줍니다
- **코드 포맷팅**: 코드를 깔끔하게 정리해줍니다

### 추천 VS Code 설정

VS Code에서 `Ctrl + ,` (설정)을 열고 아래를 설정하면 편합니다:

- **Editor: Format On Save** → 체크 (저장할 때 자동 정리)
- **rust-analyzer > Check On Save: Command** → `clippy` (더 꼼꼼한 검사)

---

## 7. 실습: 코드를 수정해보자!

### 실습 1: 출력 내용 바꾸기

`src/main.rs` 파일을 열고 아래처럼 수정해보세요:

```rust
fn main() {
    println!("안녕하세요! Rust 세계에 오신 것을 환영합니다!");
}
```

저장 후 터미널에서 `cargo run`을 실행하세요.

**예상 결과:**
```
안녕하세요! Rust 세계에 오신 것을 환영합니다!
```

### 실습 2: 여러 줄 출력하기

```rust
fn main() {
    println!("=========================");
    println!("  Rust 학습을 시작합니다!");
    println!("  목표: 백엔드 웹서버");
    println!("=========================");
}
```

**예상 결과:**
```
=========================
  Rust 학습을 시작합니다!
  목표: 백엔드 웹서버
=========================
```

### 실습 3: 값을 포함해서 출력하기

```rust
fn main() {
    println!("1 + 1 = {}", 1 + 1);
    println!("제 이름은 {}이고, {}살입니다.", "홍길동", 20);
}
```

`{}`는 **자리표시자**입니다. 뒤에 나오는 값이 `{}` 자리에 들어갑니다.

**예상 결과:**
```
1 + 1 = 2
제 이름은 홍길동이고, 20살입니다.
```

---

## 8. 일부러 에러를 만들어보자!

에러를 두려워하지 마세요. Rust 컴파일러는 정말 친절합니다!

### 에러 1: 세미콜론 빠뜨리기

```rust
fn main() {
    println!("Hello, world!")
}
```

`cargo run`을 실행하면:
```
error: expected `;`
 --> src/main.rs:2:30
  |
2 |     println!("Hello, world!")
  |                              ^ help: add `;` here
```

> 컴파일러가 "여기에 `;`를 추가하세요"라고 알려줍니다!

### 에러 2: 쌍따옴표 빠뜨리기

```rust
fn main() {
    println!(Hello, world!);
}
```

> 에러 메시지를 직접 읽어보세요. 뭐라고 하나요?

### 에러 3: main 함수 이름 틀리기

```rust
fn mian() {
    println!("Hello, world!");
}
```

> `main`이 아니라 `mian`이라고 적으면 어떤 에러가 나올까요? 직접 해보세요!

---

## 9. 확인 문제

아래 문제를 풀어보세요. 답은 직접 코드를 작성하고 `cargo run`으로 확인하세요!

### 문제 1
다음 중 Rust 프로그램의 시작점이 되는 함수 이름은?
- (a) start
- (b) main
- (c) run
- (d) init

### 문제 2
화면에 아래와 같이 출력하는 코드를 작성하세요:
```
***************
* 나의 첫 Rust *
***************
```

### 문제 3
`println!`에서 `!`는 무엇을 의미하나요?
- (a) 중요한 함수라는 표시
- (b) 매크로라는 표시
- (c) 에러가 발생할 수 있다는 표시
- (d) 아무 의미 없음

### 문제 4
`cargo check`와 `cargo build`의 차이점은 무엇인가요?

### 문제 5
아래 코드에는 에러가 있습니다. 찾아서 고치세요:
```rust
fn main() {
    println!("나이: {}", 25)
    println!("이름: {}", "김철수");
}
```

---

## 확인 문제 정답

<details>
<summary>정답 보기 (먼저 풀어본 후 클릭하세요!)</summary>

### 문제 1 정답: **(b) main**
프로그램은 항상 `main` 함수에서 시작됩니다.

### 문제 2 정답:
```rust
fn main() {
    println!("***************");
    println!("* 나의 첫 Rust *");
    println!("***************");
}
```

### 문제 3 정답: **(b) 매크로라는 표시**
Rust에서 `!`가 붙은 것은 함수가 아니라 **매크로**입니다. 매크로에 대해서는 나중에 자세히 배웁니다. 지금은 "특별한 함수"라고 생각하면 됩니다.

### 문제 4 정답:
- `cargo check`: 코드 문법만 검사합니다. **실행 파일을 만들지 않습니다.** 그래서 빠릅니다.
- `cargo build`: 코드를 컴파일해서 **실행 파일을 만듭니다.** 더 오래 걸립니다.

### 문제 5 정답:
첫 번째 `println!` 뒤에 세미콜론(`;`)이 빠져있습니다:
```rust
fn main() {
    println!("나이: {}", 25);    // ← 여기에 ; 추가
    println!("이름: {}", "김철수");
}
```

</details>

---

## 10. 1장 정리

| 배운 것 | 내용 |
|---------|------|
| Rust 설치 | `rustup`으로 설치, `rustc --version`으로 확인 |
| Cargo | Rust의 빌드 도구 겸 패키지 매니저 |
| 프로젝트 생성 | `cargo new 프로젝트이름` |
| 프로젝트 실행 | `cargo run` |
| 프로젝트 구조 | `Cargo.toml` (설정) + `src/main.rs` (코드) |
| 출력 | `println!("내용")` |
| 자리표시자 | `println!("{}", 값)` |
| VS Code 확장 | rust-analyzer 설치 |

---

## 다음 장 예고

> **02장. 변수와 데이터 타입**에서는 데이터를 저장하고 다루는 방법을 배웁니다.
> 변수는 프로그래밍의 가장 기본입니다. Rust만의 독특한 "불변성" 개념도 함께 알아봅니다!
